<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="mmgongzhu的博客">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="mmgongzhu的博客">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="mmgongzhu">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>mmgongzhu的博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">mmgongzhu的博客</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/12/07/MybatisPlus/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="mmgongzhu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mmgongzhu的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/12/07/MybatisPlus/" class="post-title-link" itemprop="url">MybatisPlus</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-12-07 11:27:25" itemprop="dateCreated datePublished" datetime="2022-12-07T11:27:25+08:00">2022-12-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-12-12 23:24:12" itemprop="dateModified" datetime="2022-12-12T23:24:12+08:00">2022-12-12</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="MybatisPlus"><a href="#MybatisPlus" class="headerlink" title="MybatisPlus"></a>MybatisPlus</h1><h3 id="入门开发"><a href="#入门开发" class="headerlink" title="入门开发"></a>入门开发</h3><p>基本步骤：</p>
<ol>
<li><p>创建起步依赖选用mysql，若需要web页面则也勾选web（不勾选mybatis）</p>
</li>
<li><p>导入mybatisplus坐标实现基于mybatis完成mybatis的功能增强</p>
</li>
</ol>
<p>springboot学习版本则选用为2.5.0，mysql的版本对应jar包围5.1.6</p>
<ul>
<li>lombok:实现快速开发实体类</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--        开发实体类的坐标：lombok--&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;lombok&lt;/artifactId&gt;</span><br><span class="line">&lt;!--            &lt;version&gt;<span class="number">1.18</span><span class="number">.12</span>&lt;/version&gt;--&gt;</span><br><span class="line">            &lt;scope&gt;provided&lt;/scope&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>mybatisplus：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--        导入mybatisplus对应的坐标--&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;com.baomidou&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;mybatis-plus-boot-starter&lt;/artifactId&gt;</span><br><span class="line">            &lt;version&gt;3.4.1&lt;/version&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
<ol start="3">
<li>dao层：使用@mapper注解实现在boot管理下的代理开发，继承</li>
</ol>
<p>BaseMapper&lt;实体类&gt;的接口</p>
<p>实质是mybatisplus在BaseMapper的接口中定义了完成增删改查以及一些其他功能。而在BaseMapper中也同样是通过注解的方式实现</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="comment">//继承basemapper类实现mybatisplus快速开发，后面的泛型写上实体类即可</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserDao</span> <span class="keyword">extends</span> <span class="title class_">BaseMapper</span>&lt;User&gt; &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="4">
<li><p>domain层：通过使用lambok的api调用，可以使用的注解基本有</p>
<ul>
<li>&#x3D;&#x3D;@setter @getter @tostring @noargsconstructor等&#x3D;&#x3D;</li>
</ul>
<p>可以统一用一个注解&#x3D;&#x3D;@data&#x3D;&#x3D;完成。实体类中则只需要有成员变量即可</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span> <span class="comment">//通过注解完成getter，setter，tostring的方法</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> Long id;</span><br><span class="line">        <span class="keyword">private</span> String name;</span><br><span class="line">        <span class="keyword">private</span> String password;</span><br><span class="line">        <span class="keyword">private</span> Integer age;</span><br><span class="line">        <span class="keyword">private</span> String tel;</span><br><span class="line">        </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="到此入门开发就完成了"><a href="#到此入门开发就完成了" class="headerlink" title="到此入门开发就完成了"></a>到此入门开发就完成了</h6><hr>
</li>
</ol>
<h3 id="功能实现"><a href="#功能实现" class="headerlink" title="功能实现"></a>功能实现</h3><h4 id="分页功能"><a href="#分页功能" class="headerlink" title="分页功能"></a>分页功能</h4><p>mybatisplus的api自带了很多的方式，实现对数据库的操作，带有分页功能的步骤：</p>
<ul>
<li><p>创建配置类，添加内置的拦截器（Interceptor）</p>
<p>将配置类注解为@configuration使得能够被包扫描</p>
<p>注解bean交给boot管理</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span> <span class="comment">//设置为配置类，使得能被扫描到</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MpConfig</span> &#123; <span class="comment">//MyConfig为MybatisPlusConfig的缩写形式</span></span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> MybatisPlusInterceptor <span class="title function_">pageInterceptor</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">MybatisPlusInterceptor</span> <span class="variable">mybatisPlusInterceptor</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MybatisPlusInterceptor</span>();</span><br><span class="line">        <span class="comment">//将分页拦截器添加为内置的拦截器</span></span><br><span class="line">        mybatisPlusInterceptor.addInnerInterceptor(<span class="keyword">new</span> <span class="title class_">PaginationInnerInterceptor</span>());</span><br><span class="line">        <span class="keyword">return</span> mybatisPlusInterceptor;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>为了方便调试，在yml中设置日志</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#    设置日志</span><br><span class="line">mybatis-plus:</span><br><span class="line">  configuration:</span><br><span class="line">    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl</span><br></pre></td></tr></table></figure>
</li>
<li><p>service层实现（学习则在测试类中实现）</p>
<ul>
<li><p>创建page对象，传递当前页码和页面的数据条数</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">IPage page=new Page(1,2);</span><br></pre></td></tr></table></figure>

<p>通过page对象可以获取各种数据，具体如下</p>
<table>
<thead>
<tr>
<th>getPages()</th>
<th>总页面数</th>
</tr>
</thead>
<tbody><tr>
<td>getCurrent()</td>
<td>当前页码</td>
</tr>
<tr>
<td>getSize()</td>
<td>当前页面数据条数</td>
</tr>
<tr>
<td>getRecords()</td>
<td>数据内容</td>
</tr>
<tr>
<td>getTotal()</td>
<td>数据总条数</td>
</tr>
</tbody></table>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(<span class="string">&quot;总页面数为&quot;</span>+page.getPages());</span><br><span class="line">System.out.println(<span class="string">&quot;当前页码为&quot;</span>+page.getCurrent());</span><br><span class="line">System.out.println(<span class="string">&quot;当前页面条数&quot;</span>+page.getSize());</span><br><span class="line">System.out.println(<span class="string">&quot;总条数&quot;</span>+page.getTotal());</span><br><span class="line">System.out.println(<span class="string">&quot;数据&quot;</span>+page.getRecords());</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h4 id="按条件查询"><a href="#按条件查询" class="headerlink" title="按条件查询"></a>按条件查询</h4><p> 使用mybatisplus封装好的方法时，很多方法传递的参数为 Wrapper(条件构造器) 可以通过调用Wrapper中的方法实现对数据库数据的投影，筛选等的操作。</p>
<h5 id="Wrapper"><a href="#Wrapper" class="headerlink" title="Wrapper"></a>Wrapper</h5><h5 id="比较条件"><a href="#比较条件" class="headerlink" title="比较条件"></a>比较条件</h5><p>lt(参1，参2) ，参1为数据库中的列名，或者是对应的实体类中的成员变量 ，参数2为条件（值）</p>
<ul>
<li><p>lt（age,18） 表示查询年龄小于18岁的  le() ：&lt;&#x3D;</p>
<ul>
<li>gt（age,18） 表示查询年龄大于18岁的,ge(): &gt;&#x3D;</li>
</ul>
</li>
<li><p>between(列名，值1（下限），值2（上限）)</p>
</li>
<li><p>or（）表示或</p>
</li>
<li><p>wrapper创建方法1</p>
</li>
<li><p>eq() 表示等于</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//按条件查询</span></span><br><span class="line"><span class="comment">// 实现条件查询的功能， lt表示小于 ，gt表示大于</span></span><br><span class="line"><span class="type">QueryWrapper</span> <span class="variable">queryWrapper</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">QueryWrapper</span>();</span><br><span class="line"><span class="comment">//方式1</span></span><br><span class="line">queryWrapper.lt(<span class="string">&quot;age&quot;</span>,<span class="number">18</span>); <span class="comment">//参数1：对应的列 参数2： 对应的属性值</span></span><br><span class="line">queryWrapper.gt(<span class="string">&quot;age&quot;</span>,<span class="number">18</span>); <span class="comment">//参数1：对应的列 参数2： 对应的属性值</span></span><br><span class="line">List&lt;User&gt; users = userDao.selectList(queryWrapper);</span><br></pre></td></tr></table></figure>
</li>
<li><p>wrapper创建方法2</p>
<p>由于可能会在书写数据库列名时出现拼写错误，所以可以不再使用QueryWrapper的对象来完成功能，而是可以通过lambda表达式的方式，&#x3D;&#x3D;上述lt的方法中的参数1则传递的是lambda表达式下的实体类成员&#x3D;&#x3D; 。同时可以使用链式编程的方法，可以提高代码的简洁性和可读性。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//方式3</span></span><br><span class="line"> <span class="comment">//模拟前端传入的数据,用user1中的年龄表示下限，用user2中的年龄表示上限</span></span><br><span class="line"> <span class="type">User2</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User2</span>();</span><br><span class="line"> user.setAge(<span class="number">20</span>);<span class="comment">//下限</span></span><br><span class="line"> user.setAge2(<span class="number">40</span>);<span class="comment">//上限</span></span><br><span class="line"> <span class="comment">//合并创建对象和使用lambda表达式的语句</span></span><br><span class="line"> LambdaQueryWrapper&lt;User&gt; userLambdaQueryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line"> <span class="comment">//链式编程实现查询年龄大于13且小于40</span></span><br><span class="line"> <span class="comment">//条件查询采用三个参数的格式，第一各参数判断传入的数据是否为空</span></span><br><span class="line"> <span class="comment">//为空则无视此条件</span></span><br><span class="line"> userLambdaQueryWrapper.lt(<span class="literal">null</span>!=user.getAge2(),User::getAge,user.getAge2())</span><br><span class="line">                       .gt(<span class="literal">null</span>!=user.getAge(),User::getAge,user.getAge());</span><br><span class="line"> <span class="comment">//链式编程同理可以实现查询小于13或者大于40岁的人</span></span><br><span class="line"> <span class="comment">//使用or()即可实现</span></span><br><span class="line"><span class="comment">// userLambdaQueryWrapper.lt(User::getAge,20).or().gt(User::getAge,40);</span></span><br><span class="line"> List&lt;User&gt; users1 = userDao.selectList(userLambdaQueryWrapper);</span><br><span class="line"> System.out.println(users1);</span><br></pre></td></tr></table></figure>

<p>使用lambda表达式需要注意，在创建LambdaQueryWrapper对象时，需要将泛型设置为对应的实体类，本例中为User.</p>
<p>特别注意的是本例中模拟了页面传递数据，<strong>因为传递的可能是空对象和一些其他的非法数据，所以需要做空对象处理，当传递的对象为空时则此方法代表的查询无视</strong>。</p>
<p>例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">user.setAge2(<span class="literal">null</span>);<span class="comment">//模拟前端传入的数据为空对象</span></span><br><span class="line">userLambdaQueryWrapper.lt(<span class="literal">null</span>!=user.getAge2(),User::getAge,user.getAge2())</span><br></pre></td></tr></table></figure>

<p>&#x3D;&#x3D;结果为查询全部，也就是无视条件，直接查询。&#x3D;&#x3D;</p>
</li>
</ul>
<h5 id="查询投影"><a href="#查询投影" class="headerlink" title="查询投影"></a>查询投影</h5><p>当只需要查询部分字段时，则调用&#x3D;&#x3D;LambdaQueryWrapper中的select(参1，参2…参n)&#x3D;&#x3D;方法，只需要将需要查询的字段作为参数传递</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">LambdaQueryWrapper&lt;User&gt; userLambdaQueryWrapper = new LambdaQueryWrapper&lt;&gt;();</span><br><span class="line">//查询投影，只查询age和name</span><br><span class="line">userLambdaQueryWrapper.select(User::getAge,User::getName)</span><br></pre></td></tr></table></figure>

<p>如果需要分组则调用&#x3D;&#x3D;LambdaQueryWrapper中的groupBy(“列名”)&#x3D;&#x3D;方法</p>
<p>当查询的属性在数据库中未定义，则只需要使用&#x3D;&#x3D;selectMaps(wrapper对象)&#x3D;&#x3D;即可完成</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">QueryWrapper&lt;User&gt; userQueryWrapper = new QueryWrapper&lt;&gt;();</span><br><span class="line">        //查询时起别名，同时只查询select中包含的列</span><br><span class="line">        userQueryWrapper.select(&quot;count(*) as nums,tel&quot;)</span><br><span class="line">                        .groupBy(&quot;tel&quot;);</span><br><span class="line">        //使用mybatisplus的selectMaps方法查询数据库中未定义的列</span><br><span class="line">        List&lt;Map&lt;String, Object&gt;&gt; maps = userDao.selectMaps(userQueryWrapper);</span><br></pre></td></tr></table></figure>

<h5 id="模糊查询"><a href="#模糊查询" class="headerlink" title="模糊查询"></a>模糊查询</h5><p>wrapper使用到的方法：</p>
<ol>
<li><p>like() 匹配字符</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//匹配字符串</span></span><br><span class="line">lambdaQueryWrapper.like(User::getName,<span class="string">&quot;jojo&quot;</span>) </span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>likeLeft(),likeRight() 相当于确定%的位置</p>
<p>left指%在左 right指%在右</p>
<p>&#x2F;&#x2F;匹配字符串</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//相当于 匹配%j，也就是以j结尾的字符串</span></span><br><span class="line">lambdaQueryWrapper.likeLeft(User::getName,<span class="string">&quot;j&quot;</span>) </span><br><span class="line"><span class="comment">//相当于 匹配%j，也就是以j开头的字符串</span></span><br><span class="line">lambdaQueryWrapper.likeRight(User::getName,<span class="string">&quot;j&quot;</span>) </span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="解决字段冲突"><a href="#解决字段冲突" class="headerlink" title="解决字段冲突"></a>解决字段冲突</h4><p>解决冲突均在实体类或yml配置文件中完成 ✔</p>
<ol>
<li><p>解决数据库中的字段和实体类中的字段名不一致的冲突</p>
<p>使用&#x3D;&#x3D;@TableField中的value属性&#x3D;&#x3D;设置匹配数据库中的字段</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TableField(value = &quot;pwd&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String password;</span><br></pre></td></tr></table></figure>
</li>
<li><p>⚠由于数据库中的字段信息敏感，在查询时应该选择不显示</p>
<p>使用&#x3D;&#x3D;@TableField中的select属性&#x3D;&#x3D;设置不显示此字段到查询结果</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TableField(value = &quot;pwd&quot;,select = false)</span></span><br><span class="line">   <span class="keyword">private</span> String password;</span><br></pre></td></tr></table></figure>
</li>
<li><p>实体类中的字段在数据库中没有对应字段，需要告知数据库</p>
<p>使用&#x3D;&#x3D;@TableField中的exist属性&#x3D;&#x3D;通知此字段只在实体类中存在</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">@TableField(exist = false)</span><br><span class="line">   private Integer online;</span><br></pre></td></tr></table></figure>
</li>
<li><p>解决实体类中的类名和数据库中的表名不一致的问题(两种方式解决)</p>
<ul>
<li><p>使用&#x3D;&#x3D;@TableName（”数据库的表名”）&#x3D;&#x3D;设置匹配数据库的表名</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TableName(&quot;tbl_user&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="comment">//...省略</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在yml中通过配置实体类匹配表名的前缀为一定格式完成</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mybatis-plus:</span><br><span class="line">  global-config:</span><br><span class="line">    db-config:</span><br><span class="line">      table-prefix: tbl_ #设置实体类匹配的表名前缀 如user实体类，加上前缀就可匹配 库：tbl_user</span><br><span class="line">      </span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ol>
<h4 id="ID生成策略"><a href="#ID生成策略" class="headerlink" title="ID生成策略"></a>ID生成策略</h4><p>数据库中id一般作为主键，mybatisplus提供了各种id生成策略（实体类中配置或在yml配置文件中配置）</p>
<h5 id="实体类中配置"><a href="#实体类中配置" class="headerlink" title="实体类中配置"></a>实体类中配置</h5><p>使用&#x3D;&#x3D;@TableId注解中的Type属性&#x3D;&#x3D;，由于策略有限，故使用枚举类中的常量</p>
<table>
<thead>
<tr>
<th>枚举类</th>
<th>常量</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>IdType</td>
<td>AUTO</td>
<td>id自动增长</td>
</tr>
<tr>
<td>IdType</td>
<td>INPUT</td>
<td>id必须手动输入</td>
</tr>
<tr>
<td>IdType</td>
<td>ASSIGN_ID</td>
<td>使用雪花算法生成id</td>
</tr>
<tr>
<td>IdType</td>
<td>ASSING_UUID</td>
<td>使用UUID算法</td>
</tr>
</tbody></table>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TableId(type = IdType.AUTO)</span> </span><br><span class="line"><span class="comment">//@TableId(type = IdType.INPUT)</span></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br></pre></td></tr></table></figure>



<h5 id="yml配置"><a href="#yml配置" class="headerlink" title="yml配置"></a>yml配置</h5><p>使用mybatisplus下的全局变量的属性&#x3D;&#x3D;id-type&#x3D;&#x3D;</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mybatis-plus:</span><br><span class="line">  global-config:</span><br><span class="line">    db-config:</span><br><span class="line">      id-type: assign_id #选择雪花算法     </span><br></pre></td></tr></table></figure>

<h4 id="x3D-x3D-逻辑删除-x3D-x3D"><a href="#x3D-x3D-逻辑删除-x3D-x3D" class="headerlink" title="&#x3D;&#x3D;逻辑删除&#x3D;&#x3D;"></a>&#x3D;&#x3D;逻辑删除&#x3D;&#x3D;</h4><p>通常数据库中使用的删除方法会直接将数据移除，这一操作可能会在之后导致想要查询数据时无法完成，为了解决这一问题，数据库删除这一操作在学会了逻辑删除后都不再进行真正的删除，而是为数据库中的表添加一个字段，通常为&#x3D;&#x3D;deleted&#x3D;&#x3D;表示删除状态。类型为int，需要确定已删除和未删除的状态所代表的数字。</p>
<h5 id="实体类实现"><a href="#实体类实现" class="headerlink" title="实体类实现"></a>实体类实现</h5><p>使用&#x3D;&#x3D;@TableLogic注解&#x3D;&#x3D;</p>
<table>
<thead>
<tr>
<th>属性</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>value</td>
<td>确定未删除状态代表的值</td>
</tr>
<tr>
<td>delval</td>
<td>确定删除状态代表的值</td>
</tr>
</tbody></table>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TableLogic(value = &quot;0&quot;,delval = &quot;1&quot;)</span> </span><br><span class="line">    <span class="keyword">private</span> Integer deleted;</span><br></pre></td></tr></table></figure>

<h5 id="yml配置-1"><a href="#yml配置-1" class="headerlink" title="yml配置"></a>yml配置</h5><p>使用mybatisplus下配置的全局变量</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mybatis-plus:</span><br><span class="line">  global-config:</span><br><span class="line">    db-config:   </span><br><span class="line">      logic-delete-field: deleted #设置逻辑删除的字段</span><br><span class="line">      logic-delete-value: <span class="number">1</span> #设置删除后用 <span class="number">1</span>表示</span><br><span class="line">      logic-not-delete-value: <span class="number">0</span> # 设置未删除用 <span class="number">0</span>表示</span><br></pre></td></tr></table></figure>

<h5 id="实现原理"><a href="#实现原理" class="headerlink" title="实现原理"></a>实现原理</h5><p>当加上了注解或者在ym文件中进行了配置后，mybatisplus实际上已经把删除对应的操作，改成update，当实现删除时，就是&#x3D;&#x3D;修改字段deleted属性值为1&#x3D;&#x3D;，可以在日志中进行查看。</p>
<p><img src="E:\myblog\themes\next\source\images\img_deleted.png"></p>
<p>而删除的字段不参与的原理是加上了注解之后，mybatisplus在查询语句的条件再加上一句  where deleted &#x3D; 0。也就是只有字段为未删除状态时才会参与查询</p>
<h4 id="乐观锁问题"><a href="#乐观锁问题" class="headerlink" title="乐观锁问题"></a>乐观锁问题</h4><p>当不同的用户对相同的字段进行操作时，由于同时操作可能会引起各种冲突。</p>
<p>如秒杀商品，若有100件商品在限时内出售，大量的用户在同一时间进行并发操作而引起乐观锁问题</p>
<h5 id="解决步骤"><a href="#解决步骤" class="headerlink" title="解决步骤"></a>解决步骤</h5><ol>
<li><p>和分页功能相同，需要解决乐观锁的问题也需要添加对应的拦截器到内置拦截器中，也就是正常的sql语句会被mybatisplus拦截而进行增强sql语句的操作。</p>
</li>
<li><p>在库和书体类中添加解决乐观锁的字段和注解 </p>
<p>一般字段为 &#x3D;&#x3D;version 类型为integer&#x3D;&#x3D; 在数据库中初始默认值设置为1</p>
<p>注解为&#x3D;&#x3D;@Version&#x3D;&#x3D;</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Version</span>  <span class="comment">//解决乐观锁的注解，同时配置对应的拦截器</span></span><br><span class="line">    <span class="keyword">private</span> Integer version;</span><br></pre></td></tr></table></figure>

<p>需要注意的是如果要使得拦截器生效，sql语句中必须要给出对应的version的值。</p>
<p>下面通过模拟两个用户同时进行修改表中字段的操作，由于语句中需要有version的字段，所以采用的方法为:首先通过要修改的id查询封装到实体类对象中，在通过set方法修改需要修改的数据</p>
<p>案例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">//模拟乐观锁的场景</span><br><span class="line">        User user = userDao.selectById(3L);</span><br><span class="line">        User user1 = userDao.selectById(3L);</span><br><span class="line"></span><br><span class="line">        //A用户进行修改</span><br><span class="line">        user.setAge(34);</span><br><span class="line">        userDao.updateById(user);</span><br><span class="line"></span><br><span class="line">        //B用户在同一时间进行修改</span><br><span class="line">        user1.setAge(21);</span><br><span class="line">        userDao.updateById(user1);</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
</li>
</ol>
<p>  A用户生成的sql语句<img src="E:\myblog\themes\next\source\images\img_mybatisplus_locker1.png"></p>
<p>B用户生成的sql语句</p>
<p><img src="E:\myblog\themes\next\source\images\img_mybatisplus_locker2.png"></p>
<p>可以看到，只有A用户的修改操作成功。</p>
<h5 id="实现原理-1"><a href="#实现原理-1" class="headerlink" title="实现原理"></a>实现原理</h5><p>根据上述的例子中参数和结果可发现，当实现了乐观锁的解锁拦截器后，修改语句中会在修改的条件加上&#x3D;&#x3D;version&#x3D;？&#x3D;&#x3D;,也就是version需要和当前库中的字段对应才能进行修改。并且拦截器还会在修改时将&#x3D;&#x3D;version+1&#x3D;&#x3D;,保证每个用户操作时都是不同的version。</p>
<p>上述例子中，用户A时间要稍微比B用户早，所以此时version字段值为4对应的操作是给A用户的，而A用户完成修改后（提交后）拦截器将version+1,使得现在数据库中version值为5. 但对于B用户来说，在修改操作进行，但未提交时，用户B是以version值为4的参数去操作。而数据库中现在version实际以及等于5了。无法满足修改的条件：version&#x3D;4。所以B用户此次操作不成功。</p>
<h4 id="代码生成器"><a href="#代码生成器" class="headerlink" title="代码生成器"></a>代码生成器</h4><p>经过对spring框架的一系列的学习后，可以发现我们在进行开发时，为了使得效率和可读性更高，都是以固定的格式书写。这就好比语文中的造句</p>
<p>例：我使用（ ）来完成操作</p>
<p>对于（）内的内容就可以填入：书、笔、电脑等的词造句。同样对于代码也是如此。对于固定的内容可以直接使用模板生成</p>
<p>例：dao层，一般格式为xxDao,则这xx就是一种填词造句。Mybatisplus提供了代码生成器来完成这样的模板操作</p>
<h5 id="实现步骤"><a href="#实现步骤" class="headerlink" title="实现步骤"></a>实现步骤</h5><ol>
<li><p>导入对应的坐标</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--代码生成器--&gt;</span><br><span class="line">       &lt;dependency&gt;</span><br><span class="line">           &lt;groupId&gt;com.baomidou&lt;/groupId&gt;</span><br><span class="line">           &lt;artifactId&gt;mybatis-plus-generator&lt;/artifactId&gt;</span><br><span class="line">           &lt;version&gt;<span class="number">3.4</span><span class="number">.1</span>&lt;/version&gt;</span><br><span class="line">       &lt;/dependency&gt;</span><br><span class="line">   </span><br><span class="line">       &lt;!--velocity模板引擎--&gt;</span><br><span class="line">       &lt;dependency&gt;</span><br><span class="line">           &lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;</span><br><span class="line">           &lt;artifactId&gt;velocity-engine-core&lt;/artifactId&gt;</span><br><span class="line">           &lt;version&gt;<span class="number">2.3</span>&lt;/version&gt;</span><br><span class="line">       &lt;/dependency&gt;</span><br></pre></td></tr></table></figure>

<p>2.创建Generateor（生成器类）的配置类，设置各种参数，具体作用以注解形式写在在代码中</p>
<p>生成器配置类中创建main方法配置对应的参数,创建代码生成器对象</p>
<p>配置数据源对象参数</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">public static void main(String[] args) &#123;</span><br><span class="line">    //创建代码生成器对象</span><br><span class="line">    AutoGenerator autoGenerator = new AutoGenerator();</span><br><span class="line">    //创建数据源对象</span><br><span class="line">    DataSourceConfig DataSource=new DataSourceConfig();</span><br><span class="line">    DataSource.setDriverName(&quot;com.mysql.jdbc.Driver&quot;);</span><br><span class="line">    DataSource.setUrl(&quot;jdbc:mysql://localhost:3306/mybatisplus_db?characterEncoding=utf8&quot;);</span><br><span class="line">    DataSource.setUsername(&quot;root&quot;);</span><br><span class="line">    DataSource.setPassword(&quot;123&quot;);</span><br><span class="line">    autoGenerator.setDataSource(DataSource);</span><br></pre></td></tr></table></figure></li>
</ol>
<p>​		  设置全局配置 </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//设置全局配置</span></span><br><span class="line">        <span class="type">GlobalConfig</span> <span class="variable">globalConfig</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">GlobalConfig</span>();</span><br><span class="line">        globalConfig.setOutputDir(System.getProperty(<span class="string">&quot;user.dir&quot;</span>)+<span class="string">&quot;/项目名/src/main/java&quot;</span>);    <span class="comment">//设置代码生成位置</span></span><br><span class="line">        globalConfig.setOpen(<span class="literal">false</span>);    <span class="comment">//设置生成完毕后是否打开生成代码所在的目录</span></span><br><span class="line">        globalConfig.setAuthor(<span class="string">&quot;mmgongzhu&quot;</span>);    <span class="comment">//设置作者</span></span><br><span class="line">        globalConfig.setFileOverride(<span class="literal">true</span>);     <span class="comment">//设置是否覆盖原始生成的文件</span></span><br><span class="line">        globalConfig.setMapperName(<span class="string">&quot;%sDao&quot;</span>);    <span class="comment">//设置数据层接口名，%s为占位符，指代模块名称</span></span><br><span class="line">        globalConfig.setIdType(IdType.ASSIGN_ID);   <span class="comment">//设置Id生成策略</span></span><br><span class="line">        autoGenerator.setGlobalConfig(globalConfig);</span><br></pre></td></tr></table></figure>

<p>设置包名相关配置</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//设置包名相关配置</span></span><br><span class="line">        <span class="type">PackageConfig</span> <span class="variable">packageInfo</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PackageConfig</span>();</span><br><span class="line">        packageInfo.setParent(<span class="string">&quot;com.aaa&quot;</span>);   <span class="comment">//设置生成的包名，与代码所在位置不冲突，二者叠加组成完整路径</span></span><br><span class="line">        packageInfo.setEntity(<span class="string">&quot;domain&quot;</span>);    <span class="comment">//设置实体类包名</span></span><br><span class="line">        packageInfo.setMapper(<span class="string">&quot;dao&quot;</span>);   <span class="comment">//设置数据层包名</span></span><br><span class="line">        autoGenerator.setPackageInfo(packageInfo);</span><br></pre></td></tr></table></figure>

<p>策略配置</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">//策略设置</span><br><span class="line">StrategyConfig strategyConfig = new StrategyConfig();</span><br><span class="line">//strategyConfig.setInclude(&quot;tbl_user&quot;);  //设置当前参与生成的表名，参数为可变参数</span><br><span class="line">strategyConfig.setTablePrefix(&quot;tbl_&quot;);  //设置数据库表的前缀名称，模块名 = 数据库表名 - 前缀名  例如： User = tbl_user - tbl_</span><br><span class="line">strategyConfig.setRestControllerStyle(true);    //设置是否启用Rest风格</span><br><span class="line">strategyConfig.setVersionFieldName(&quot;version&quot;);  //设置乐观锁字段名</span><br><span class="line">strategyConfig.setLogicDeleteFieldName(&quot;deleted&quot;);  //设置逻辑删除字段名</span><br><span class="line">strategyConfig.setEntityLombokModel(true);  //设置是否启用lombok</span><br><span class="line">autoGenerator.setStrategy(strategyConfig);</span><br></pre></td></tr></table></figure>

<p>最后调用生成器对象的执行方法&#x3D;&#x3D;execute()&#x3D;&#x3D;方法,运行main方法即可根据参数实现自动生成模板代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">autoGenerator.execute();</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/12/06/hello-world/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="mmgongzhu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mmgongzhu的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/12/06/hello-world/" class="post-title-link" itemprop="url">Hello World</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-12-06 09:46:44" itemprop="dateCreated datePublished" datetime="2022-12-06T09:46:44+08:00">2022-12-06</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="mmgongzhu"
      src="/images/avatar.gif">
  <p class="site-author-name" itemprop="name">mmgongzhu</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">2</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2022-12 – 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">mmgongzhu</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
